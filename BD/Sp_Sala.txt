-- SALA
delimiter //
use CHAT//

drop procedure if exists sp_insertar_sala//
drop procedure if exists sp_cambiar_nombre_sala//
drop procedure if exists sp_borrar_sala//

CREATE PROCEDURE sp_insertar_sala(_id_tipo_sala int,_nombre varchar(50)) 
BEGIN
	INSERT INTO SALA (id_tipo_sala,nombre,fecha,activo) 
	VALUES(_id_tipo_sala,_nombre,CURRENT_TIMESTAMP(),true);
END//

CREATE PROCEDURE sp_cambiar_nombre_sala(_id_sala int,_nombre varchar(50)) 
BEGIN
	UPDATE SALA SET	nombre=_nombre 
	WHERE id_sala=_id_sala;
END//

CREATE PROCEDURE sp_borrar_sala(_id_sala int) 
BEGIN
	UPDATE SALA SET	activo=false
	WHERE id_sala=_id_sala;
END//